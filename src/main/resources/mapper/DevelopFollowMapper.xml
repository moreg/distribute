<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jdsw.distribute.dao.DevelopFollowDao">
    <insert id="insertDevelopFollow" parameterType="com.jdsw.distribute.model.DistributeFollow">
        insert into customer_develop_follow
        <trim prefix="(" suffix=")" suffixOverrides=",">
            follow_name,follow_result,network_id,
            <if test="followTime != null and followTime != ''">
                follow_time,
            </if>
            <if test="imgUrl != null and imgUrl != ''">
                img_url,
            </if>
            <if test="record != null and record != ''">
                record,
            </if>
            <if test="operation != null and operation !=''">
                operation,
            </if>
            <if test="applyReason != null and applyReason !=''">
                apply_reason,
            </if>
            <if test="applyExplain != null and applyExplain !=''">
                apply_explain,
            </if>
            <if test="stopExplain != null and stopExplain !=''">
                stop_explain,
            </if>
            <if test="deliverExplain != null and deliverExplain !=''">
                deliver_explain,
            </if>
            create_time
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{followName},#{followResult},#{networkId},
            <if test="followTime != null and followTime != ''">
                #{followTime},
            </if>
            <if test="imgUrl != null and imgUrl != ''">
                #{imgUrl},
            </if>
            <if test="record != null and record != ''">
                #{record},
            </if>
            <if test="operation != null and operation !=''">
                #{operation},
            </if>
            <if test="applyReason != null and applyReason !=''">
                #{applyReason},
            </if>
            <if test="applyExplain != null and applyExplain !=''">
                #{applyExplain},
            </if>
            <if test="stopExplain != null and stopExplain !=''">
                #{stopExplain},
            </if>
            <if test="deliverExplain != null and deliverExplain !=''">
                #{deliverExplain},
            </if>
            sysdate()

        </trim>

    </insert>
    <select id="qureyFollowList" parameterType="java.lang.Integer" resultType="com.jdsw.distribute.model.DistributeFollow">
        select cf.id,follow_name,follow_time,follow_result,network_id,img_url,record,cf.create_time,cf.apply_reason,cf.apply_explain,cf.operation,cf.stop_explain,cf.deliver_explain
         from customer_develop_follow cf LEFT JOIN customer_develop cd ON cf.network_id = cd.id where network_id = #{id} ORDER BY id DESC
    </select>
    <insert id="insertNetworkFollow2" parameterType="java.util.List">
        insert into customer_develop_follow(follow_name,follow_result,network_id,create_time,operation,apply_reason,apply_explain,stop_explain,deliver_explain) values
        <foreach collection="list" item="item" separator=",">
            (#{item.followName},#{item.followResult},#{item.networkId},sysdate(),#{item.operation},#{item.applyReason},#{item.applyExplain},#{item.stopExplain},#{item.deliverExplain})
        </foreach>
    </insert>
</mapper>