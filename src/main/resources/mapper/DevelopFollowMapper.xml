<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jdsw.distribute.dao.DevelopFollowDao">
    <insert id="insertDevelopFollow" parameterType="com.jdsw.distribute.model.DistributeFollow">
        insert into customer_develop_follow
        <trim prefix="(" suffix=")" suffixOverrides=",">
            follow_name,follow_result,network_id,
            <if test="followTime != null and followTime != ''">
                follow_time,
            </if>
            <if test="imgUrl != null and imgUrl != ''">
                img_url,
            </if>
            <if test="record != null and record != ''">
                record,
            </if>
            <if test="operation != null and operation !=''">
                operation,
            </if>
            create_time
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{followName},#{followResult},#{networkId},
            <if test="followTime != null and followTime != ''">
                #{followTime},
            </if>
            <if test="imgUrl != null and imgUrl != ''">
                #{imgUrl},
            </if>
            <if test="record != null and record != ''">
                #{record},
            </if>
            <if test="operation != null and operation !=''">
                #{operation},
            </if>
            sysdate()

        </trim>

    </insert>
    <select id="qureyFollowList" parameterType="java.lang.Integer" resultType="com.jdsw.distribute.model.DistributeFollow">
        select id,follow_name as followName,follow_time as followTime,follow_result as followResult,
               network_id as networkId,img_url as imgUrl,record,create_time as createTime from customer_develop_follow where network_id = #{id} ORDER BY id DESC
    </select>
    <insert id="insertNetworkFollow2" parameterType="java.util.List">
        insert into customer_develop_follow(follow_name,follow_result,network_id,create_time,operation) values
        <foreach collection="list" item="item" separator=",">
            (#{item.followName},#{item.followResult},#{item.networkId},sysdate(),#{item.operation})
        </foreach>
    </insert>
</mapper>